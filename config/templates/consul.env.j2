# ============================================
# CONSUL CONFIGURATION
# Auto-generated from config templates
# Environment: {{ environment }}
# Generated: {{ timestamp }}
# ============================================

# Consul Server Configuration
CONSUL_DATACENTER={{ config.consul_datacenter|default('homelab') }}
CONSUL_DOMAIN={{ config.consul_domain|default('consul') }}
CONSUL_LOG_LEVEL={{ config.consul_log_level|default('INFO') }}

# Consul ACL Configuration (basic for MVP)
# For production, enable ACLs and generate tokens
CONSUL_ACL_ENABLED={{ config.consul_acl_enabled|default('false')|lower }}
{% if config.consul_acl_enabled %}
CONSUL_ACL_DEFAULT_POLICY={{ config.consul_acl_default_policy|default('deny') }}
CONSUL_ACL_MASTER_TOKEN={{ secrets.consul_acl_master_token }}
{% endif %}

# Consul Local Config (JSON)
# This is used by the consul container to bootstrap configuration
CONSUL_LOCAL_CONFIG={{ config.consul_local_config|default('{"datacenter":"homelab","server":true,"ui_config":{"enabled":true},"log_level":"INFO"}') }}

# Service Registration
# Services can use these for automatic registration
CONSUL_HTTP_ADDR=consul-server:8500
CONSUL_HTTP_SSL=false
