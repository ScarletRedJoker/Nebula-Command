# ============================================
# HomeLabHub Environment Configuration Template
# ============================================
# INSTRUCTIONS:
# 1. Copy this file: cp .env.example .env
# 2. Fill in all YOUR_* placeholders with actual credentials
# 3. Generate random secrets using: openssl rand -hex 32
# 4. Secure the file: chmod 600 .env
# 5. NEVER commit .env to git!
# ============================================

# ============================================
# CORE CONFIGURATION
# ============================================
SERVICE_USER=evin
POSTGRES_PASSWORD=YOUR_POSTGRES_PASSWORD_HERE
WEB_USERNAME=admin
WEB_PASSWORD=YOUR_WEB_PASSWORD_HERE
SESSION_SECRET=YOUR_SESSION_SECRET_HEX_64
DASHBOARD_API_KEY=YOUR_DASHBOARD_API_KEY_HEX_64

# Service-to-Service Authentication
# Used for secure communication between stream-bot and dashboard
# Generate with: openssl rand -hex 32
# NOTE: Auto-generated by bootstrap-homelab.sh if missing
SERVICE_AUTH_TOKEN=YOUR_SERVICE_AUTH_TOKEN_HEX_64

# Flask Configuration
FLASK_ENV=production
FLASK_DEBUG=false
SECRET_KEY=YOUR_FLASK_SECRET_KEY_HEX_64

# ============================================
# DATABASE PASSWORDS
# ============================================
DISCORD_DB_PASSWORD=YOUR_DISCORD_DB_PASSWORD
STREAMBOT_DB_PASSWORD=YOUR_STREAMBOT_DB_PASSWORD
JARVIS_DB_PASSWORD=YOUR_JARVIS_DB_PASSWORD

# Database URLs (NO ${VAR} expansion in production!)
# REPLIT: Use environment variable substitution
# PRODUCTION: Use fully resolved connection strings
DISCORD_DATABASE_URL=postgresql://ticketbot:DISCORD_DB_PASSWORD@homelab-postgres:5432/ticketbot
STREAMBOT_DATABASE_URL=postgresql://streambot:STREAMBOT_DB_PASSWORD@homelab-postgres:5432/streambot
JARVIS_DATABASE_URL=postgresql://jarvis:JARVIS_DB_PASSWORD@homelab-postgres:5432/homelab_jarvis

# ============================================
# AI CONFIGURATION (OpenAI)
# ============================================
# Get from https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-YOUR_OPENAI_API_KEY_HERE
OPENAI_BASE_URL=https://api.openai.com/v1
AI_MODEL=gpt-3.5-turbo

# ============================================
# STREAM BOT
# ============================================
STREAMBOT_SESSION_SECRET=# Generate: python -c 'import secrets; print(secrets.token_urlsafe(48))'
STREAMBOT_PORT=5000
STREAMBOT_NODE_ENV=production
STREAMBOT_OPENAI_API_KEY=# Same as OPENAI_API_KEY
STREAMBOT_OPENAI_BASE_URL=https://api.openai.com/v1
STREAMBOT_FACT_MODEL=gpt-3.5-turbo

# Twitch (Optional)
TWITCH_CLIENT_ID=
TWITCH_CLIENT_SECRET=
TWITCH_CHANNEL=
TWITCH_REDIRECT_URI=https://stream.rig-city.com/api/auth/twitch/callback

# YouTube (Required for user OAuth)
# Get from https://console.cloud.google.com/apis/credentials
YOUTUBE_CLIENT_ID=
YOUTUBE_CLIENT_SECRET=
YOUTUBE_REFRESH_TOKEN=
YOUTUBE_REDIRECT_URI=https://stream.rig-city.com/api/auth/youtube/callback

# Spotify (Optional)
SPOTIFY_CLIENT_ID=
SPOTIFY_CLIENT_SECRET=
SPOTIFY_REFRESH_TOKEN=
SPOTIFY_REDIRECT_URI=https://stream.rig-city.com/api/auth/spotify/callback

# Kick (Optional)
KICK_CLIENT_ID=
KICK_CLIENT_SECRET=
KICK_REDIRECT_URI=https://stream.rig-city.com/api/auth/kick/callback

# ============================================
# DISCORD BOT
# ============================================
DISCORD_BOT_TOKEN=# Get from https://discord.com/developers/applications
DISCORD_CLIENT_ID=
DISCORD_CLIENT_SECRET=
DISCORD_APP_ID=
VITE_DISCORD_CLIENT_ID=
DISCORD_SESSION_SECRET=# Generate: python -c 'import secrets; print(secrets.token_hex(32))'
VITE_CUSTOM_WS_URL=wss://bot.yourdomain.com/ws
RESET_DB=false
DISCORD_DB_USER=ticketbot_user

# ============================================
# PLEX MEDIA SERVER
# ============================================
PLEX_URL=https://plex.yourdomain.com
PLEX_TOKEN=# Get from Plex Settings > Account > "Show" under Plex Token
PLEX_CLAIM=# Get from https://www.plex.tv/claim/ (valid for 4 minutes)

# Plex Media Storage Paths (where imported media is organized)
PLEX_MEDIA_PATH=/home/evin/contain/HomeLabHub/services/plex/media
# Auto-configured subdirectories:
#   ${PLEX_MEDIA_PATH}/Movies - Movie library
#   ${PLEX_MEDIA_PATH}/TV Shows - TV show library
#   ${PLEX_MEDIA_PATH}/Music - Music library

# Plex DLNA/UPnP Discovery Ports (Optional)
# Note: Port 1900/udp is used for DLNA/UPnP discovery but may conflict with other services
# Discovery ports have been removed by default to prevent port conflicts
# If you need Plex discovery features, manually add these ports to docker-compose.yml:
#   - "1900:1900/udp"
#   - "32410:32410/udp"
#   - "32412:32412/udp"
#   - "32413:32413/udp"
#   - "32414:32414/udp"
# Troubleshooting: If bootstrap fails with "port 1900 already in use", keep these disabled

# ============================================
# MINIO OBJECT STORAGE
# ============================================
MINIO_ROOT_USER=admin
MINIO_ROOT_PASSWORD=# Generate secure password
MINIO_ENDPOINT=minio:9000
MINIO_USE_SSL=false
MINIO_BUCKET_NAME=homelab-uploads

# ============================================
# VNC REMOTE DESKTOP
# ============================================
VNC_PASSWORD=# Generate secure password
VNC_USER=evin
VNC_USER_PASSWORD=# Generate secure password
NOVNC_URL=# Same as VNC_PASSWORD

# ============================================
# CODE SERVER
# ============================================
CODE_SERVER_PASSWORD=# Generate secure password

# ============================================
# HOME ASSISTANT (Optional)
# ============================================
# Use internal Docker service name, NOT public URL
HOME_ASSISTANT_URL=http://homeassistant:8123
HOME_ASSISTANT_TOKEN=# Get from HA Profile > Security > Long-Lived Access Tokens
HOME_ASSISTANT_VERIFY_SSL=False

# ============================================
# GOOGLE SERVICES (Optional)
# ============================================
# REPLIT: Automatically managed by Replit Connectors
# PRODUCTION: Optionally provide your own OAuth credentials
GOOGLE_TOKEN_CACHE_TTL=300
CALENDAR_POLL_INTERVAL_MINUTES=5
CALENDAR_LEAD_TIME_MINUTES=10
GMAIL_FROM_NAME="Homelab Dashboard"
GMAIL_DEFAULT_RECIPIENT=your_email@example.com
DRIVE_BACKUP_FOLDER_NAME="Homelab Backups"
DRIVE_BACKUP_RETENTION_DAYS=30
DRIVE_AUTO_BACKUP_ENABLED=false
DRIVE_AUTO_BACKUP_SCHEDULE=0 2 * * *

# ============================================
# SERVICE URLS (Update with your domains)
# ============================================
DISCORD_BOT_URL=https://bot.yourdomain.com
N8N_URL=https://n8n.yourdomain.com
STATIC_SITE_URL=https://yourdomain.com
LETSENCRYPT_EMAIL=your_email@example.com

