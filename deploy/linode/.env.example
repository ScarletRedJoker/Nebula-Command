# ═══════════════════════════════════════════════════════════════
#  Homelab Environment Configuration
#  
#  SMART SETUP (recommended):
#    ./homelab sync-env    # Merges new vars without overwriting existing!
#  
#  MANUAL SETUP:
#  1. Copy this file to .env: cp .env.example .env
#  2. Fill in ALL required values (marked with REQUIRED)
#  3. Run validation: ./scripts/validate-env.sh
#  4. Deploy: ./scripts/deploy.sh
# ═══════════════════════════════════════════════════════════════

# ━━━ TAILSCALE (REQUIRED for local service connectivity) ━━━

# Tailscale auth key for connecting Linode to your tailnet
# This allows containers to reach local services (Plex, NAS, Home Assistant, KVM)
# Get from: https://login.tailscale.com/admin/settings/keys
# Create a reusable, ephemeral auth key for the server
TAILSCALE_AUTHKEY=tskey-auth-xxxxx

# ━━━ CORE INFRASTRUCTURE (REQUIRED) ━━━

# PostgreSQL root password - used for database administration
# Generate with: openssl rand -hex 32
POSTGRES_PASSWORD=

# Per-service database passwords - each service gets isolated credentials
# Generate unique passwords for each: openssl rand -hex 24
DISCORD_DB_PASSWORD=
STREAMBOT_DB_PASSWORD=
JARVIS_DB_PASSWORD=

# ━━━ AUTHENTICATION & SECURITY (REQUIRED) ━━━

# Inter-service authentication token - used for API calls between services
# Generate with: openssl rand -hex 32
SERVICE_AUTH_TOKEN=

# Session secret - used for JWT-signed session cookies (Next.js dashboard)
# MUST be at least 32 characters for HMAC-SHA256 signing
# Generate with: openssl rand -hex 32
SESSION_SECRET=

# Secret key - used for CSRF protection and other encryption
# Generate with: openssl rand -hex 32
SECRET_KEY=

# Dashboard web login credentials
WEB_USERNAME=admin
WEB_PASSWORD=

# ━━━ AI SERVICES (REQUIRED) ━━━

# OpenAI API key for Jarvis AI assistant and stream bot facts
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-

# ━━━ DISCORD BOT (REQUIRED) ━━━

# Discord application credentials
# Get from: https://discord.com/developers/applications
DISCORD_BOT_TOKEN=
DISCORD_CLIENT_ID=
DISCORD_CLIENT_SECRET=

# These auto-fallback to DISCORD_CLIENT_ID in docker-compose (only set if different):
# DISCORD_APP_ID=
# VITE_DISCORD_CLIENT_ID=

# Session encryption secret for Discord OAuth
# Generate with: openssl rand -hex 32
DISCORD_SESSION_SECRET=

# ━━━ STREAM BOT - TWITCH (REQUIRED) ━━━

# Twitch application credentials
# Get from: https://dev.twitch.tv/console/apps
TWITCH_CLIENT_ID=
TWITCH_CLIENT_SECRET=

# Session encryption secret for Stream Bot
# Generate with: openssl rand -hex 32
STREAMBOT_SESSION_SECRET=

# ━━━ STREAM BOT - YOUTUBE (OPTIONAL) ━━━

# YouTube/Google OAuth credentials
# Get from: https://console.cloud.google.com/apis/credentials
YOUTUBE_CLIENT_ID=
YOUTUBE_CLIENT_SECRET=

# ━━━ STREAM BOT - SPOTIFY (OPTIONAL) ━━━

# Spotify application credentials
# Get from: https://developer.spotify.com/dashboard
SPOTIFY_CLIENT_ID=
SPOTIFY_CLIENT_SECRET=

# ━━━ STREAM BOT - KICK (OPTIONAL) ━━━

# Kick application credentials (if available)
KICK_CLIENT_ID=
KICK_CLIENT_SECRET=

# ━━━ CODE SERVER (REQUIRED) ━━━

# Password for code-server web interface
CODE_SERVER_PASSWORD=

# ━━━ N8N WORKFLOW AUTOMATION (OPTIONAL) ━━━

# Basic auth for n8n web interface
# Leave empty to use n8n's built-in auth
N8N_BASIC_AUTH_USER=
N8N_BASIC_AUTH_PASSWORD=

# ━━━ MONITORING - GRAFANA (REQUIRED) ━━━

# Grafana admin credentials
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=

# ━━━ DNS MANAGEMENT (REQUIRED) ━━━

# Cloudflare API token with DNS edit permissions
# Get from: https://dash.cloudflare.com/profile/api-tokens
# Required permissions: Zone.DNS:Edit for your domains
CLOUDFLARE_API_TOKEN=

# Zone IDs (OPTIONAL - can be auto-discovered via API if token has Zone.Zone:Read)
# Find at: Cloudflare Dashboard → Domain → Overview → API section (right sidebar)
# Format: 32-character hex string like: 023e105f4ecef8ad9ca31a8372d0c353
CLOUDFLARE_ZONE_EVINDRAKE=
CLOUDFLARE_ZONE_RIGCITY=
CLOUDFLARE_ZONE_SCARLETREDJOKER=

# Or use a single comma-separated list for dynamic discovery:
# CLOUDFLARE_ZONES=evindrake.net,rig-city.com,scarletredjoker.com

# ━━━ DISCORD BOT - COMMUNITY FEATURES (OPTIONAL) ━━━

# Discord server ID for rig-city.com public API
# Get from: Discord → Server Settings → Widget → Server ID
RIG_CITY_SERVER_ID=692850100795473920

# ━━━ INTER-SERVICE COMMUNICATION (REQUIRED) ━━━

# Webhook secret for Stream Bot → Discord Bot notifications
# Generate with: openssl rand -hex 32
STREAM_BOT_WEBHOOK_SECRET=

# Discord Bot internal URL (used by Stream Bot)
DISCORD_BOT_URL=http://homelab-discord-bot:4000

# ━━━ LOCAL SERVICES ACCESS (OPTIONAL) ━━━

# Tailscale/WireGuard IP for your local Ubuntu host
# This enables the dashboard to connect to local services (Plex, Home Assistant)
TAILSCALE_LOCAL_HOST=100.110.227.25

# Tailscale IP for Linode server
TAILSCALE_LINODE_HOST=100.66.61.51

# Tailscale IP for remote gaming connections
# This is the IP Moonlight clients use to connect via Tailscale
# Typically the same as TAILSCALE_LOCAL_HOST (Ubuntu forwards to Windows VM)
TAILSCALE_GAMING_IP=100.110.227.25

# Plex authentication token
# Get from: https://www.plex.tv/claim/ or from Plex settings
PLEX_TOKEN=

# Home Assistant long-lived access token
# Get from: Home Assistant → Profile → Long-Lived Access Tokens
HOME_ASSISTANT_TOKEN=

# ═══════════════════════════════════════════════════════════════
#  SECURITY NOTES:
#  
#  - NEVER commit this file to git
#  - Keep a secure backup of this file
#  - Rotate secrets periodically
#  - Use strong, unique passwords (32+ characters)
#  
#  To generate secure passwords:
#    openssl rand -hex 32
#    openssl rand -base64 32
# ═══════════════════════════════════════════════════════════════
